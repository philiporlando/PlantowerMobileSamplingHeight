# load the necessary packages
if (!require(pacman)) {
install.packages("pacman")
library(pacman)
}
p_load(readr
,ggplot2
,plyr
,dplyr
,broom
,reshape2
,tidyr
,stringr
,magrittr
,rlist
,gridExtra
)
# creating a custon not-in function
'%!in%' <- function(x,y)!('%in%'(x,y))
# reads in one teensy_pm file:
fpath <- "./data/teensy_pm/20180504_1.txt"
x <- read.csv(fpath, header = TRUE)
View(x)
class(x$date)
x <- read.csv(fpath, header = TRUE, stringsAsFactors = FALSE)
class(x$date)
x <- read.csv(fpath, header = TRUE, stringsAsFactors = FALSE)
x$date <- as.POSIXct(x$date, format = "%Y-%m-%d %H:%M:%S")
x <- x %>%
group_by(date = cut(date, breaks = time_resolution)) %>%
dplyr::summarise_all(funs(mean))
# create unanimous time resolution for all data
time_resolution <- "1 sec"
# creating a custon not-in function
'%!in%' <- function(x,y)!('%in%'(x,y))
x <- x %>%
group_by(date = cut(date, breaks = time_resolution)) %>%
dplyr::summarise_all(funs(mean))
class(x$date)
x$date <- as.POSIXct()
x$date <- as.POSIXct(x$date)
class(x$date)
View(x)
x <- read.csv(fpath, header = TRUE, stringsAsFactors = FALSE)
x$date <- as.POSIXct(x$date, format = "%Y-%m-%d %H:%M:%S")
x <- x %>%
group_by(date = cut(date, breaks = time_resolution)) %>%
dplyr::summarise_all(funs(mean))
x$date <- as.POSIXct(x$date)
View(x)
x <- read.csv(fpath, header = TRUE, stringsAsFactors = FALSE)
x$date <- as.POSIXct(x$date, format = "%Y-%m-%d %H:%M:%S", tz = "US/Pacific")
# this removes the dupes in the raw data too
x <- x %>%
group_by(date = cut(date, breaks = time_resolution)) %>%
dplyr::summarise_all(funs(mean))
x$date <- as.POSIXct(x$date, format = "%Y-%m-%d %H:%M:%S", tz = "US/Pacific")
View(x)
